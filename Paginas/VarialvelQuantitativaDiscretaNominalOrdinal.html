<!DOCTYPE html>
<html>

<head>
    <meta charset="uft-8" />

    <style href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css"></style>
    <LINK href="../bootstrap-4.1.3-dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <LINK href="../css/css.css" rel="stylesheet" type="text/css">

</head>


<body>
    <div id="fundoOpaco" onclick="fechafundo();"></div>
    <div id="nav" class="navbar sticky-top navbar-dark bg-light navbar-expand-lg">
        <div class="container">
            <img id="logoicon" src="../imgs/logo3.png" />
            <ul id="menulist2">
                <li><a href="home.html">INICIO</a></li>
            </ul>
        </div>
    </div>
    <p id='calc'></p>
    <div id="botõesMostrar" class="d-flex justify-content-center">
        <button id='MostrarTabela' onclick="mostrarElementos('tabela')" class="btn btn-info">tabela</button>
        <button id='MostrarGrafico' onclick="mostrarElementos('grafico')" class="btn btn-info">grafico</button>
        <button id='MostrarMedidas' onclick="mostrarElementos('medidas')" class="btn btn-info">Medidas</button>
        <button id='MostrarCalculadora' onclick="calculadora()" class="btn btn-info">Probabilidade</button>
    </div>
    
     <div class="container" id="dados">
            <center><div id="tabelaMedidasGrafico">
            <div id="divCanvas">
                <p id="tituloGrafico">Teste</p>
                <canvas id="grafico"></canvas>
            </div></center>
        <div id="medidas" class="d-flex justify-content-center">
            <div id='caixaMedidas'>
                <h4>MEDIDAS</h4>
                <div id='elementosFixos'>

                    <select id="selectCaixas" onchange="plotarMedidas()">
                        <option>Selecione</option>
                        <option value="Centrais"> Centrais </option>
                        <option value="Quartil">Quartil</option>
                        <option value="Decil"> Decil</option>
                        <option value="Quintil"> Quintil </option>
                        <option value="Percentil"> Percentil</option>
                    </select>
                </div>
                <div id='selecionado'>

                    <div id="Centro"></div>

                    <div id='divQuartil'>
                        <p>Quartil:

                            <select id="selectQ" onchange="sepatatrizONQ('Q')">
                                <option>Selecione</option>
                                <option value="Q1"> Q<sub>1</sub> </option>
                                <option value="Q2"> Q<sub>2</sub> </option>
                                <option value="Q3"> Q<sub>3</sub> </option>
                                <option value="Q4"> Q<sub>4</sub> </option>
                            </select>

                        </p>


                        <p id="resultadoQuartil" class="ResulSeparatrizes"></p>
                    </div>


                    <div id='divQuintil'>
                        <p>Quintil:

                            <select id="selectK" onchange="sepatatrizONQ('K')">
                                <option>Selecione</option>
                                <option value="k1"> K<sub>1</sub> </option>
                                <option value="k2"> K<sub>2</sub> </option>
                                <option value="k3"> K<sub>3</sub> </option>
                                <option value="k4"> K<sub>4</sub> </option>
                                <option value="k5"> K<sub>5</sub> </option>
                            </select>

                        </p>
                        <p id="resultadoQuintil"></p>
                    </div>

                    <div id='divDecil'>
                        <p>Decil:

                            <select id="selectD" onchange="sepatatrizONQ('D')">
                                <option>Selecione</option>
                                <option value="D1"> D<sub>1</sub> </option>
                                <option value="D2"> D<sub>2</sub> </option>
                                <option value="D3"> D<sub>3</sub> </option>
                                <option value="D4"> D<sub>4</sub> </option>
                                <option value="D5"> D<sub>5</sub> </option>
                                <option value="D6"> D<sub>6</sub> </option>
                                <option value="D7"> D<sub>7</sub> </option>
                                <option value="D8"> D<sub>8</sub> </option>
                                <option value="D9"> D<sub>9</sub> </option>
                                <option value="D10"> D<sub>10</sub> </option>
                            </select>

                        </p>
                        <p id="resultadoDecil"></p>
                    </div>


                    <div id='divPercentil'>
                        <p>Percentil:

                            <input type="text" id="EntradaPercentil" size=5 onfocus="limpaSeparatriz('P')" />
                            <input type="button" onclick="sepatatrizONQ('P')" value="=" />
                        </p>

                        <p id="resultadoPercentil"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    </div>

    <footer id="footer" class="footer footerpos">
        <div class="d-flex justify-content-center">
            <b>(16) 99321-1233</b>
            <b>info@Migueleiros.com</b>
            <b>© Migueleiros 2019. All Rights Reserved.</b>
        </div>
    </footer>
</body>


<script type="text/javascript" src="../Scripts/OrdenaçãoVetorPrincipal.js"></script>
<script type="text/javascript" src="../Scripts/MedianaDiscretaNominalOrdinal.js"></script>
<script type="text/javascript" src="../Scripts/ModaDiscretaNominalOrdinal.js"></script>
<script type="text/javascript" src="../Scripts/mediaDiscreta.js"></script>
<script type="text/javascript" src="../Scripts/MedianaDiscretaNominalOrdinalversao2.js"></script>
<script type="text/javascript" src="../Scripts/DesvioPadrão&CoeficienteVariação.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
<script type="text/javascript" src="../Scripts/graficos.js"></script>
<script type="text/javascript" src="../Scripts/limpaSeparatrizes.js"></script>
<script type="text/javascript" src="../Scripts/SeparatrizONQ.js"></script>
<script type="text/javascript" src="../Scripts/cores.js"></script>
<script type="text/javascript" src="../Scripts/animar.js"></script>
<script type="text/javascript" src="../Scripts/verificadorEntradasCalculadora.js"></script>
<script src="../Scripts/TabelaDB.js"></script>



<script type="text/javascript">







    mostrarElementos = function (x) {
        if (x == 'tabela') {
            animar('TQD')

            document.getElementById('TQD').style.display = 'inline-block'
            document.getElementById('divCanvas').style.display = 'none'
            document.getElementById('caixaMedidas').style.display = 'none'
        }
        else if (x == 'grafico') {
            animar('divCanvas')
            document.getElementById('TQD').style.display = 'none'
            document.getElementById('divCanvas').style.display = 'inline-block'

            document.getElementById('caixaMedidas').style.display = 'none'

        }
        else {
            animar('caixaMedidas')
            document.getElementById('TQD').style.display = 'none'
            document.getElementById('divCanvas').style.display = 'none'
            document.getElementById('caixaMedidas').style.display = 'inline-block'
        }
    }





    objetoDadosUsuario = JSON.parse(window.localStorage.getItem('dadosFormulario'))



    vetor = objetoDadosUsuario.vetorUsuario

    document.getElementById('tituloGrafico').innerText = objetoDadosUsuario.nomeVar




    if (objetoDadosUsuario.Variavel == "Discreta") {
        for (i = 0; i < vetor.length; i++) {
            vetor[i] = parseFloat(vetor[i])
        }
    }


    vetor = InserçãoDireta(vetor)



    objeto = {}

    for (elemento = 0; elemento < vetor.length; elemento++) {
        if (String(vetor[elemento]) in objeto) {
            objeto[String(vetor[elemento])] += 1
        }
        else {
            objeto[String(vetor[elemento])] = 1

        }
    }
    //rotina de repetição que ordena o vetor a partir da ordem escolhida pelo usuário
    if (objetoDadosUsuario.Variavel == "Ordinal") {
        listaVetor = objetoDadosUsuario.OrdemVariaveis
        vetor = []

        for (i = 0; i < listaVetor.length; i++) {
            for (j = 0; j < objeto[listaVetor[i]]; j++) {
                vetor.push(listaVetor[i])
            }
        }
    }
    else {

        listaVetor = []
        for (chave in objeto) {
            listaVetor.push(chave)
        }
    }



    tabela = document.getElementById('tabelaMedidasGrafico').appendChild(document.createElement('table'))
    tabela.id = 'TQD'
    linha1 = document.getElementById('TQD').appendChild(document.createElement('tr'))
    linha1.id = 'TQD_topo'
    thNome = document.getElementById('TQD_topo').appendChild(document.createElement('th'))
    thNome.id = 'nomeDaVariavel'
    thF = document.getElementById('TQD_topo').appendChild(document.createElement('th'))
    thF.innerText = 'F*'
    thFc = document.getElementById('TQD_topo').appendChild(document.createElement('th'))
    thFc.innerText = 'Fc'
    thP = document.getElementById('TQD_topo').appendChild(document.createElement('th'))
    thP.innerText = 'P*'
    thPc = document.getElementById('TQD_topo').appendChild(document.createElement('th'))
    thPc.innerText = 'Pc'
    acumuladorFrequenciaSimples = 0
    acumuladorPercentualSimples = 0
    vetorFrequenciaSimplesAcumulada = []
    document.getElementById('nomeDaVariavel').innerText = objetoDadosUsuario.nomeVar

    frequenciaSimples = []
    for (chaves in objeto) {
        frequenciaSimples.push(objeto[chaves])
    }


    for (i = 0; i < listaVetor.length; i++) {

        linha = document.createElement('tr')
        linha.id = `linha${i + 1}`
        document.getElementById('TQD').appendChild(linha)

        NomedoElemento = document.createElement('td')
        NomedoElemento.id = `nome${i + 1}`
        document.getElementById(`linha${i + 1}`).appendChild(NomedoElemento)
        NomedoElemento.innerText = listaVetor[i]

        FreSimplesElemento = document.createElement('td')
        FreSimplesElemento.id = `FSE${i + 1}`
        document.getElementById(`linha${i + 1}`).appendChild(FreSimplesElemento)
        FreSimplesElemento.innerText = objeto[String(listaVetor[i])]

        acumuladorFrequenciaSimples += objeto[String(listaVetor[i])]


        FreSimplesAcumulada = document.createElement('td')
        FreSimplesAcumulada.id = `FSA${i + 1}`
        document.getElementById(`linha${i + 1}`).appendChild(FreSimplesAcumulada)
        FreSimplesAcumulada.innerText = acumuladorFrequenciaSimples
        vetorFrequenciaSimplesAcumulada.push(acumuladorFrequenciaSimples)


        calculoPerSimples = (100 * (objeto[String(listaVetor[i])])) / vetor.length
        percentualSimples = parseFloat(calculoPerSimples.toFixed(1))

        PerSimples = document.createElement('td')
        PerSimples.id = `PS${i + 1}`
        document.getElementById(`linha${i + 1}`).appendChild(PerSimples)
        PerSimples.innerText = percentualSimples + '%'

        acumuladorPercentualSimples += calculoPerSimples


        PerAcumulado = document.createElement('td')
        PerAcumulado.id = `PA${i + 1}`
        document.getElementById(`linha${i + 1}`).appendChild(PerAcumulado)
        PerAcumulado.innerText = acumuladorPercentualSimples.toFixed(1) + '%'
    }
    animar('TQD', 'aparecer')



    ParagrafoModa = document.createElement('p')
    ParagrafoModa.id = 'ParagrafoModa'
    document.getElementById('Centro').appendChild(ParagrafoModa)
    ParagrafoModa.innerText = 'Moda: ' + moda(objeto)


    if (objetoDadosUsuario.Variavel == "Discreta") {

        ParagrafoMedia = document.createElement('p')
        ParagrafoMedia.id = 'ParagrafoMedia'
        document.getElementById('Centro').appendChild(ParagrafoMedia)
        mediaFloat = media(objeto)
        ParagrafoMedia.innerText = 'Média: ' + parseFloat(mediaFloat.toFixed(2))
    }


    ParagrafoMediana = document.createElement('p')
    ParagrafoMediana.id = 'ParagrafoMediana'
    document.getElementById('Centro').appendChild(ParagrafoMediana)
    ParagrafoMediana.innerText = 'Mediana: ' + mediana()



    if (objetoDadosUsuario.Variavel == "Discreta") {

        CaixaMedDispersão = document.createElement('div')
        CaixaMedDispersão.id = 'caixaDispersão'
        document.getElementById('selecionado').appendChild(CaixaMedDispersão)


        ParagrafoDesvioPadrão = document.createElement('p')
        ParagrafoDesvioPadrão.id = 'ParagrafoDesvioPadrão'
        document.getElementById('caixaDispersão').appendChild(ParagrafoDesvioPadrão)
        ParagrafoDesvioPadrão.innerText = 'Desvio: ' + DesvioPadrão(objeto)

        ParagrafoCoeficiente = document.createElement('p')
        ParagrafoCoeficiente.id = "paragrafoCoeficiente"
        document.getElementById('caixaDispersão').appendChild(ParagrafoCoeficiente)
        ParagrafoCoeficiente.innerText = "CV: " + CoeficienteDeVariação()


    }
    if (objetoDadosUsuario.Variavel == 'Discreta') {
        opçãoParaDiscreta = document.getElementById('selectCaixas').insertBefore(document.createElement('option'), document.getElementById('selectCaixas').querySelectorAll('option')[2])
        opçãoParaDiscreta.innerText = 'Dispersão'
        opçãoParaDiscreta.setAttribute('value', 'dispersão')
    }

    grafico()
    //document.getElementById('caixaMedidas').innerHTML=document.getElementById('divDecil').innerHTML

    plotarMedidas = function () {
        opção = document.getElementById('selectCaixas').value



        if (opção == 'Centrais') {
            if (objetoDadosUsuario.Variavel == 'Discreta') {
                document.getElementById('caixaDispersão').style.display = 'none'
            }


            document.getElementById('divQuartil').style.display = 'none'
            document.getElementById('divQuintil').style.display = 'none'
            document.getElementById('divPercentil').style.display = 'none'
            document.getElementById('divDecil').style.display = 'none'
            document.getElementById('Centro').style.display = 'inline-block'

        }
        else if (opção == 'dispersão') {
            if (objetoDadosUsuario.Variavel == 'Discreta') {
                document.getElementById('caixaDispersão').style.display = 'inline-block'
            }
            document.getElementById('divQuartil').style.display = 'none'
            document.getElementById('divQuintil').style.display = 'none'
            document.getElementById('divPercentil').style.display = 'none'
            document.getElementById('divDecil').style.display = 'none'
            document.getElementById('Centro').style.display = 'none'
        }
        else if (opção == 'Quartil') {
            if (objetoDadosUsuario.Variavel == 'Discreta') {
                document.getElementById('caixaDispersão').style.display = 'none'
            }
            document.getElementById('divQuartil').style.display = 'inline-block'
            document.getElementById('divQuintil').style.display = 'none'
            document.getElementById('divPercentil').style.display = 'none'
            document.getElementById('divDecil').style.display = 'none'
            document.getElementById('Centro').style.display = 'none'
        }
        else if (opção == 'Decil') {
            if (objetoDadosUsuario.Variavel == 'Discreta') {
                document.getElementById('caixaDispersão').style.display = 'none'
            }
            document.getElementById('divQuartil').style.display = 'none'
            document.getElementById('divQuintil').style.display = 'none'
            document.getElementById('divPercentil').style.display = 'none'
            document.getElementById('divDecil').style.display = 'inline-block'
            document.getElementById('Centro').style.display = 'none'
        }
        else if (opção == 'Quintil') {
            if (objetoDadosUsuario.Variavel == 'Discreta') {
                document.getElementById('caixaDispersão').style.display = 'none'
            }
            document.getElementById('divQuartil').style.display = 'none'
            document.getElementById('divQuintil').style.display = 'inline-block'
            document.getElementById('divPercentil').style.display = 'none'
            document.getElementById('divDecil').style.display = 'none'
            document.getElementById('Centro').style.display = 'none'
        }
        else if (opção == 'Percentil') {
            if (objetoDadosUsuario.Variavel == 'Discreta') {
                document.getElementById('caixaDispersão').style.display = 'none'
            }
            document.getElementById('divQuartil').style.display = 'none'
            document.getElementById('divQuintil').style.display = 'none'
            document.getElementById('divPercentil').style.display = 'inline-block'
            document.getElementById('divDecil').style.display = 'none'
            document.getElementById('Centro').style.display = 'none'
        }


    }

    

</script>


<script src="../Scripts/funcoes.js"> </script>
<script src="../Scripts/calculadoraEstatistica.js"></script>
<script src="../Scripts/construtorDeElementosDaCalculadora.js"></script>

</html>